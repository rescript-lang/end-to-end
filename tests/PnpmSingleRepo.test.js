// Generated by ReScript, PLEASE EDIT WITH CARE

import * as $$Bun from "bun";
import * as Process from "process";
import * as Buntest from "bun:test";
import * as Nodepath from "node:path";
import * as Principium from "./Principium.js";

let repo = Nodepath.resolve(import.meta.dir, "../repos/pnpm/single-project");

Buntest.describe("A single ReScript project using npm as package manager", () => {
  let orginalCwd = Process.cwd();
  Buntest.beforeAll(async () => await Principium.changeCwdToRepository(repo, async () => {
    await $$Bun.$`pnpm install`;
    await $$Bun.$`pnpm update rescript`;
  }));
  Buntest.afterAll(async () => {
    Process.chdir(orginalCwd);
  });
  Buntest.test("should clean", async () => {
    await $$Bun.$` npm run clean`;
  });
  Buntest.test("should build", async () => {
    await $$Bun.$`pnpm run build`;
  });
});

export {
  repo,
}
/* repo Not a pure module */
